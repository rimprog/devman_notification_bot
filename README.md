# Телеграм бот для уведомлений о проверенных уроках на Devman

При запуске скрипта, реализуя метод [long polling](https://dvmn.org/encyclopedia/about-chatbots/long-polling/) происходит опрашивание API [девмана](https://dvmn.org/) на предмет наличия новых проверенных работ. Если приходит проверенная новая работа, то в телеграм приходит сообщение по типу:
```
У вас проверили работу "Делаем игру про космос".
Ссылка на работу: https://dvmn.org/modules/async-python/lesson/async-console-game/
К сожалению в работе нашлись ошибки. Исправьте их и отправьте работу на проверку снова.
```
Также в работе бота предусмотрены обработки ошибок, возникающих при потери связи с интернетом или превышение времени допустимого ожидания ответа от сервера. При возникновении данных ошибок бот выведет информацию о возникшей ошибки в консоль и взяв перерыв в 100 секунд продолжит свою работу. 

## Переменные окружения

Необходимые для корректной работы бота токены беруться из переменных окружения. Чтобы их определить, создайте файл `.env` рядом с `main.py` и запишите туда данные в таком формате: `ПЕРЕМЕННАЯ=значение`.

Важно определить следующие 3 переменные:
- `TELEGRAM_BOT_TOKEN` — токен вашего телеграм бота, куда будут выводиться уведомления о проверенных работах. Создать нового телеграм бота и получить токен можно у [BotFather](https://telegram.me/BotFather).
- `TELEGRAM_USER_ID` — id пользователя, кому бот будет присылать уведомление о проверенных работах. Получить свой id можно у [этого телеграм бота](https://telegram.me/userinfobot).
- `DVMN_API_TOKEN` — ваш API TOKEN на DEVMAN. Получить можно [ЗДЕСЬ](https://dvmn.org/api/docs/) в разделе "Аутентификация".

## Как запустить

- Для запуска сайта вам понадобится Python третьей версии.
- Скачайте репозиторий с кодом и прилегающими файлами.
- Установите зависимости командой `pip install -r requirements.txt`.
- Убедитесь что вы создали и наполнили файл `.env` по инструкции разделом выше.
- Запустите скрипт командой `python3 main.py`.

В случае успешного запуска скрипта, в консоль будет выведено следующее сообщение:
`Waiting new lesson review...`

## Цели проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org).
